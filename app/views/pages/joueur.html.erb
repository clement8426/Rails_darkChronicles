<div class="container">
  <div class="row">
    <div class="col-md-4" data-controller="sheet">
      <h2><%= current_user.name %></h2>
      <p><%= current_user.description %></p>

      <!-- Form for adding new sheets -->
      <%= simple_form_for Sheet.new, url: sheets_path, html: { multipart: true }, remote: true do |form| %>
        <%= form.input :title %>
        <%= form.input :pdf, as: :file %>
        <div class="actions">
          <%= form.submit 'Add Sheet' %>
        </div>
      <% end %>

      <h3>Sheets:</h3>
      <div>
        <% current_user.sheets.each do |sheet| %>
          <%= button_to sheet.title, sheet_path(sheet), method: :get, class: 'btn btn-primary sheet-button', data: { sheet_id: sheet.id }, 'data-action' => 'click->sheet#loadSheetDetails' %>
        <% end %>
      </div>
    </div>

    <div class="col-md-8" id="sheet-details">
      <% if @sheet && @sheet.pdf.attached? %>
        <h1><%= @sheet.title %></h1>
        <div>
          <iframe src="<%= rails_blob_path(@sheet.pdf, disposition: 'inline') %>" width="100%" height="800px"></iframe>
        </div>
      <% else %>
        <p>No PDF attached.</p>
      <% end %>
    </div>
  </div>
</div>
